<!DOCTYPE html>
<html>
    <head>        
        <!-- title -->
        <title>Greater Anglia | Feed</title>

        <!-- Metadata -->
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
        <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
        <!-- Good default declaration:
        * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
        * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
        * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
            * Enable inline JS: add 'unsafe-inline' to default-src
            * Enable eval(): add 'unsafe-eval' to default-src
        * Create your own at http://cspisawesome.com
        -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
        <link rel="manifest" href="/favicon/site.webmanifest">
        <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#da1a35">
        <link rel="shortcut icon" href="/favicon/favicon.ico">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-config" content="/favicon/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

        <!-- Get Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Roboto%7CHelvetica+Neue" rel="stylesheet">
		
        <!-- Get CSS -->
        <link href="assets/styles/normalize.min.css" rel="stylesheet" type="text/css" media="screen" />
        <link rel="stylesheet" type="text/css" href="assets/styles/materialize.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/styles/master.css" />
        <link rel="stylesheet" type="text/css" href="assets/styles/index.css" />
    </head>

    <body class="layout-dark">
        <header>
            <nav> 
                <div class="container">
                    <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                    <div class="title">
                        <div>
                            <span>Feed</span>
                            <a class="modal-trigger" href="#feed"><i class="material-icons right">more_vert</i></a>
                        </div>
                    </div>
                </div>
            </nav>

            <div id="feed" class="modal">
                <div class="modal-content modal-title">
                    <span class="title">Filter Feed</span>
                </div>
                <form action="#!">
                    <ul class="collection">
                        <label class="collection-item new">
                            <i class="material-icons">access_time</i>
                            <span>New</span>
                            <input type="checkbox" class="filled-in" checked="checked" />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item scheduled">
                            <i class="material-icons">assignment</i>
                            <span>Scheduled</span>
                            <input type="checkbox" class="filled-in" checked="checked" />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item resolved">
                            <i class="material-icons">done</i>
                            <span>Resolved</span>
                            <input type="checkbox" class="filled-in" checked="checked" />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item">
                            <i class="material-icons">trending_up</i>
                            <span>Sort by Most Recent</span>
                            <input name="filter" type="radio" checked />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item">
                            <i class="material-icons">trending_down</i>
                            <span>Sort by Least Recent</span>
                            <input name="filter" type="radio" />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item">
                            <i class="material-icons">thumb_up</i>
                            <span>Sort by Most Supported</span>
                            <input name="filter" type="radio" />
                            <span class="right"></span>
                        </label>
                        <label class="collection-item">
                            <i class="material-icons">thumb_down</i>
                            <span>Sort by Least Supported</span>
                            <input name="filter" type="radio" />
                            <span class="right"></span>
                        </label>
                    </ul>
                    <button class="modal-close waves-effect btn" type="submit" name="action">Filter</button>
                </form>
            </div>

            <ul id="slide-out" class="sidenav">
                <li><a class="subheader">Menu</a></li>
                <li><div class="divider"></div></li>
                <li><a class="waves-effect" href="index.html"><i class="material-icons">home</i>Home</a></li>
                <li><a class="waves-effect" href="feed.html"><i class="material-icons">dashboard</i>Feed</a></li>
                <li><a class="waves-effect" href="report.html"><i class="material-icons">add</i>Report a Fault</a></li>

                <a class="modal-trigger mode-selector" href="#!"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0 0 5.373 0 12zm2 0C2 6.486 6.486 2 12 2v20C6.486 22 2 17.514 2 12z"/></svg></a>
                <a class="modal-trigger language-selector" href="#language-selector"><img src="assets/images/united-kingdom.svg" alt="United Kingdom"></a>
            </ul>

            <div id="language-selector" class="modal">
                <div class="modal-content modal-title">
                    <span class="title">Language Selector</span>
                </div>
                <form action="#!">
                    <ul class="collection">
                        <a href="#!" class="collection-item active">
                            <img src="assets/images/united-kingdom.svg" alt="United Kingdom">
                            <span>United Kingdom</span>
                        </a>
                        <a href="#!" class="collection-item">
                            <img src="assets/images/germany.svg" alt="Deutsch">
                            <span>Deutsch</span>
                        </a>
                        <a href="#!" class="collection-item">
                            <img src="assets/images/france.svg" alt="François">
                            <span>François</span>
                        </a>
                        <a href="#!" class="collection-item">
                            <img src="assets/images/spain.svg" alt="Español">
                            <span>Español</span>
                        </a>
                        <a href="#!" class="collection-item">
                            <img src="assets/images/portugal.svg" alt="Portugués">
                            <span>Portugués</span>
                        </a>
                        <a href="#!" class="collection-item">
                            <img src="assets/images/italy.svg" alt="Itália">
                            <span>Itália</span>
                        </a>
                    </ul>
                    <button class="modal-close waves-effect btn" type="submit" name="action">Select Language</button>
                </form>
            </div>
        </header>

        <main>
            <div class="container padding-small">
                <div id="reports" class="row">
                    <div class="col s12 m6">
                        <div class="card">
                            <div class="card-image">
                                <div><img class="materialboxed" src="assets/images/seat.jpg"></div>
                                <a class="switch support btn-floating halfway-fab red"><i class="material-icons">plus_one</i><div>Support</div></a>
                            </div>
                            <div class="card-content">
                                <span class="card-title">Seat Fault</span>
                                <span class="card-date">Dec 12, 2018 at 02:51 PM</span>
                                <p>The seats are completely broken.</p>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Staff ID."><i class="material-icons">person</i>105214</div>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Train Number."><i class="material-icons">train</i>10214</div>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Coach Number."><i class="material-icons">people</i>B4</div>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Seat Number."><i class="material-icons">event_seat</i>102</div>
                                <div class="chip new tool-tip" data-position="bottom" data-tooltip="Recently added and not yet assigned."><i class="material-icons">access_time</i>New</div>
                                <div class="chip supporters tool-tip" data-position="bottom" data-tooltip="Number of people who have supported the fault to be resolved."><i class="material-icons">thumb_up</i>0 Supporters</div>
                            </div>
                        </div>
                    </div>

                    <div class="col s12 m6">
                        <div class="card">
                            <div class="card-image">
                                <div><img class="materialboxed" src="assets/images/toliet.jpg"></div>
                                <a class="switch support btn-floating halfway-fab red"><i class="material-icons">exposure_neg_1</i><div>Unsupport</div></a>
                            </div>
                            <div class="card-content">
                                <span class="card-title">Toliet Fault</span>
                                <span class="card-date">Dec 12, 2018 at 02:51 PM</span>
                                <p>The toliet wouldn't flush and the sinks water pressure was very low. Which meant washing my hands was a nightmare!</p>
                                <div class="chip scheduled tool-tip" data-position="bottom" data-tooltip="Scheduled to be resolved."><i class="material-icons">assignment</i>Scheduled</div>
                                <div class="chip supporters tool-tip" data-position="bottom" data-tooltip="Number of people who have supported the fault to be resolved."><i class="material-icons">thumb_up</i>0 Supporters</div>
                            </div>
                        </div>
                    </div>

                    <div class="col s12 m6">
                        <div class="card image-none">
                            <div class="card-image">
                                <a class="switch support btn-floating halfway-fab red"><i class="material-icons">exposure_neg_1</i><div>Unsupport</div></a>
                            </div>
                            <div class="card-content">
                                <span class="card-title">Information</span>
                                <span class="card-date">Dec 12, 2018 at 02:51 PM</span>
                                <p>Unsure where to find something.</p>
                                <div class="chip resolved tool-tip" data-position="bottom" data-tooltip="Issue has been resolved."><i class="material-icons">done</i>Resolved</div>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Departure Location."><i class="material-icons">location_on</i>Norwich</div>
                                <div class="chip tool-tip" data-position="bottom" data-tooltip="Destination Location."><i class="material-icons">navigation</i>London</div>
                                <div class="chip supporters tool-tip" data-position="bottom" data-tooltip="Number of people who have supported the fault to be resolved."><i class="material-icons">thumb_up</i>0 Supporters</div>
                            </div>
                        </div>
                    </div>
                </div>
               <!--  <div class="button-container">
                    <button class="btn waves-effect waves-light" type="submit" onclick="dropDb()" name="action">Drop Database</button>
                </div> -->
            </div>
        </main>

        <!-- Get Scripts -->
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="assets/scripts/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="assets/scripts/materialize.min.js"></script>
        <script type="text/javascript" src="assets/scripts/master.js"></script>
        <script type="text/javascript" src="assets/scripts/database.js"></script>
        <script type="text/javascript" src="assets/scripts/pulltorefresh.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                $('.sidenav').sidenav();

                // Continue On DB Load
                $(document).on('db_loaded', db_loaded);
            });

            function db_loaded() {
                // Tooltips
                $('.tool-tip').tooltip();

                // Material Boxed
                $('.materialboxed').materialbox();

                // Models
                $('#feed').modal();
                $('#language-selector').modal();

                // Toggle Support
                $.fn.toggleText = function(a, b){
                    return (this.text() === a ? this.text(b) : this.text(a));
                };
                $('.switch').click(function(){
                    $(this).find('i').toggleText('plus_one', 'exposure_neg_1');
                    $(this).find('div').toggleText('Support', 'Unsupport');
                })

                // Pull to Refresh
                PullToRefresh.init({
                    mainElement: 'main',
                    onRefresh: function(){
                        window.location.reload(); 
                    }
                });
            }
       </script>
    </body>
</html>